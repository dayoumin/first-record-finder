# 문헌 검색 데이터소스

## 구현 현황 (2025-01 업데이트)

### ✅ 구현 완료된 문헌 검색 API

| 소스 | 파일 | 용도 | API 키 | 상태 |
|------|------|------|--------|------|
| **BHL** | `bhl-client.ts` | 1800~1970년대 역사적 문헌 | **필수** | ✅ 구현 |
| **Semantic Scholar** | `semantic-client.ts` | 최신 학술 논문 | 권장 (rate limit) | ✅ 구현 |
| **J-STAGE** | `jstage-client.ts` | 일본 학술지 (일제강점기) | 불필요 | ✅ 구현 |
| **CiNii** | `cinii-client.ts` | 일본 학술 DB | 불필요 | ✅ 구현 |
| **GBIF** | `gbif-client.ts` | 표본/관찰 데이터 | 불필요 | ✅ 구현 |
| **OBIS** | `obis-client.ts` | 해양생물 분포 | 불필요 | ✅ 구현 |

### ⏳ 구현 예정 (Playwright 스크래퍼)

| 소스 | 용도 | 비고 |
|------|------|------|
| **KCI** | 한국학술지인용색인 | 공식 API 없음 |
| **RISS** | 학위논문 검색 | 공식 API 없음 |

---

## 소스별 상세 특성

### 🔴 최초 기록 검색용 (핵심)

| 소스 | 연도 범위 | 특성 | 중요도 |
|------|----------|------|--------|
| **BHL** | 1800~1970 | 오래된 원기재 문헌, 초기 기록 | ⭐⭐⭐ 필수 |
| **J-STAGE** | 1880~현재 | 일제강점기(1910-1945) 한국 기록 | ⭐⭐⭐ 필수 |
| **CiNii** | 1900~현재 | J-STAGE 보완, 학위논문 포함 | ⭐⭐ 중요 |

### 🟡 현대 문헌 검색용

| 소스 | 연도 범위 | 특성 | 중요도 |
|------|----------|------|--------|
| **Semantic Scholar** | 1950~현재 | 영문 논문 중심, AI 기반 | ⭐⭐ 보완 |
| **KCI** (예정) | 1990~현재 | 한국어 논문 | ⭐⭐ 중요 |
| **RISS** (예정) | 1990~현재 | 학위논문 | ⭐ 보완 |

### 🟢 분포 데이터 확인용 (최초 기록 부적합)

| 소스 | 데이터 유형 | 특성 | 용도 |
|------|------------|------|------|
| **GBIF** | 표본/관찰 | 대부분 2010년 이후, iNaturalist 다수 | 현재 분포 확인 |
| **OBIS** | 해양 분포 | 위치 좌표 포함 | 해역 분포 검증 |

> ⚠️ **GBIF/OBIS 주의**: 최근 관찰 데이터가 대부분이므로 "최초 기록" 판정에는 부적합.
> 문헌에서 찾은 기록의 검증용 또는 현재 분포 확인용으로 활용.

---

## API 키 설정

`.env.local` 파일에 다음 키 설정:

```env
# 필수 - 역사적 문헌 검색
BHL_API_KEY=발급받은_키

# 권장 - Rate limit 해제
SEMANTIC_SCHOLAR_API_KEY=발급받은_키
```

**API 키 발급 URL**:
- BHL: https://www.biodiversitylibrary.org/api2/key
- Semantic Scholar: https://www.semanticscholar.org/product/api#api-key-form

---

## 기타 참고 데이터소스

### 국내 데이터베이스

| 데이터소스 | 용도 | 상태 |
|-----------|------|------|
| **KORIB** (한국해양생물목록) | 국명 조회, 기존 최초기록 참조 | 연동 검토 중 |
| **NIBR** (국립생물자원관) | 한국 표본 정보 | 참고용 |

### 분류/종 정보

| 데이터소스 | 용도 | 상태 |
|-----------|------|------|
| **WoRMS** | 해양생물 학명 검증, 이명 추출 | ✅ 구현 완료 |
| **FishBase** | 어류 추가 정보 | 참고용 |
| **SeaLifeBase** | 비어류 해양생물 | 참고용 |

---

## species_checker에서 재사용 가능한 코드

### 직접 재사용 가능

| 파일 | 용도 | 재사용 방법 |
|------|------|------------|
| `fetchWithRetry.ts` | API 재시도 로직 | ✅ 이미 복사함 |
| `wormsValidator.ts` | WoRMS API 호출 | 참고용 (이미 구현) |

### 참고용

| 파일 | 용도 | 참고 포인트 |
|------|------|------------|
| `nibrValidator.ts` | 국립생물자원관 연동 | 엑셀 파일 처리 로직 |
| `colValidator.ts` | CoL API 연동 | 대량 데이터 처리 |
| `utils.ts` | 학명 정규화 | `normalizeName()` 함수 |
| `name-preprocessing.ts` | 학명 전처리 | 약어 확장 등 |

### 참고할 문서

| 문서 | 내용 |
|------|------|
| `docs/DATA_MANAGEMENT.md` | 오프라인 데이터 관리 |
| `docs/TYPO_DETECTION_*.md` | 오타 검출 시스템 |

---

## 연동 우선순위 권장

```
1단계 (현재): WoRMS만 사용
     ↓
2단계: KORIB 연동 (국명 + 기존 최초기록)
     ↓
3단계: KCI API 연동 (한국 논문 자동 검색)
     ↓
4단계: NIBR 연동 (표본 정보)
```

---

*작성일: 2024-12*
